<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>JS singleton</title>
  </head>
  <body>
    <h1>JS singleton</h1>
    <h2>Singleton implementation</h2>
    <ul>
        <li>Many implementations possible</li>
        <li>One example using ES6 classes and ES7 static fields</li>
    </ul>
    <pre>
class MySingleton {

    static instance = undefined;

    constructor(id) {
        if(MySingleton.instance) {
            return MySingleton.instance;
        }

        this.id = id;
        this.random_number = Math.random();
        MySingleton.instance = this;
    }
}
    </pre>
    <h2>Singleton testing</h2>
    <ul>
        <li>Memory address not accessible</li>
    </ul>
    <pre>
// Create instances (well, hopefully only one)
let one   = new MySingleton('one');
let two   = new MySingleton('two');
let three = new MySingleton('three');

// Display random number
one.random_number;
two.random_number;
three.random_number;

// Display ids
one.id;
two.id;
three.id;
    </pre>
  </body>
</html>
